# ReaderWriter

**Caution: Contains LLM generated code**

## Project Overview

This project implements the classic reader-writer problem in .NET 9, demonstrating concurrent access patterns with multiple readers and exclusive writers. The implementation follows SOLID principles, Domain-Driven Design, and uses minimal dependencies.

## Architecture

The solution consists of three projects:

1. **ReaderWriter.Core** - Class library containing the thread-safe reader-writer logic
2. **ReaderWriter.ConsoleApp** - Console application that hosts and simulates concurrent access
3. **ReaderWriter.Tests** - xUnit test project with comprehensive test coverage

## Key Features

- Thread-safe concurrent read access
- Exclusive write access
- Configuration-driven simulation parameters
- Structured logging to console and rolling file
- Comprehensive unit tests
- Minimal external dependencies
- Single C# file per project for simplicity

## Implementation Details

### Synchronization
Uses `ReaderWriterLockSlim` for managing concurrent access to the shared resource.

### Logging
Implements structured logging using Serilog with:
- Console output for real-time monitoring
- Daily rolling file logs for persistence
- Configurable log levels

### Configuration
All simulation parameters are externalized in `appsettings.json`:
- Number of readers
- Number of writers  
- Simulation duration

### Testing
Comprehensive test suite covering:
- Basic read/write operations
- Writer exclusivity
- Reader concurrency
- High-concurrency data integrity

## Building and Running

### Prerequisites
- .NET 9 SDK

### Build
```bash
dotnet build
```

### Run Tests
```bash
dotnet test
```

### Run Simulation
```bash
cd ReaderWriter.ConsoleApp
dotnet run
```

## Configuration

Edit `ReaderWriter.ConsoleApp/appsettings.json` to adjust:
```json
{
  "SimulationSettings": {
    "NumberOfReaders": 10,
    "NumberOfWriters": 3,
    "SimulationDurationSeconds": 30
  }
}
```

## Dependencies

### Core Library
- Microsoft.Extensions.Logging.Abstractions

### Console Application  
- Microsoft.Extensions.Hosting
- Serilog.Extensions.Hosting
- Serilog.Sinks.Console
- Serilog.Sinks.File

### Test Project
- xUnit
- xunit.runner.visualstudio
- Microsoft.NET.Test.Sdk
- Microsoft.Extensions.Logging.Abstractions

## Design Principles

- **SOLID**: Single responsibility, dependency injection, interface segregation
- **Domain-Driven Design**: Core domain logic isolated from infrastructure
- **Testability**: All components designed for easy unit testing
- **Minimal Dependencies**: Uses only essential, free NuGet packages

## Specification Source

The original specification for this implementation was generated by Gemini 2.5 Pro and implemented by Claude Opus 4.
